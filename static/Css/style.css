/* =========================================================
   NexaAI â€“ DeepSeek / ChatGPT inspired UI
   FULL FIXED & CONSOLIDATED CSS
   Drop-in replacement for: static/css/style.css
   ========================================================= */

/* =========================
   RESET + BASE
   ========================= */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}

:root{
  --nav-h:60px;
  --sidebar-w:300px;
  --content-w:46rem;

  --r-sm:12px;--r-md:16px;--r-lg:20px;--r-pill:999px;

  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  --mono:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;

  --accent:#19c37d;--accent-2:#4f8cff;
  --danger:#ff5c5c;

  --bg:#0f1115;--panel:#151822;--panel-2:#1b2130;--panel-3:#242b3d;
  --text:#e9eef6;--muted:#a5b0c2;
  --border:rgba(255,255,255,.10);--hover:rgba(255,255,255,.06);

  --assistant-row:rgba(255,255,255,.03);
  --user-bubble:rgba(255,255,255,.08);
}

html[data-theme="light"]{
  --bg:#f7f7f8;--panel:#fff;--panel-2:#f3f4f6;--panel-3:#eaecf0;
  --text:#0b1220;--muted:#5b6474;
  --border:rgba(15,23,42,.10);--hover:rgba(15,23,42,.05);
  --assistant-row:rgba(15,23,42,.03);
  --user-bubble:rgba(15,23,42,.06);
}

body{
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
}

/* =========================
   TOP NAV
   ========================= */
.top-nav{
  position:fixed;top:0;left:0;right:0;height:var(--nav-h);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 14px;z-index:1000;
  backdrop-filter:blur(10px);
  background:rgba(0,0,0,.35);
  border-bottom:1px solid var(--border);
}
.logo-text{font-weight:900;font-size:1.05rem}
.nav-button{
  background:transparent;border:1px solid var(--border);
  padding:8px 12px;border-radius:var(--r-sm);
  color:var(--text);font-weight:700;cursor:pointer
}
.nav-button.primary{
  background:linear-gradient(135deg,var(--accent),#0ea5e9);
  border:none;color:#04120b
}

/* =========================
   SIDEBAR
   ========================= */
.sidebar{
  position:fixed;top:var(--nav-h);left:0;
  width:var(--sidebar-w);height:calc(100vh - var(--nav-h));
  background:var(--bg);border-right:1px solid var(--border);
  overflow-y:auto;z-index:900
}
.chat-item{
  padding:10px;border-radius:12px;cursor:pointer;
  display:flex;justify-content:space-between;gap:10px
}
.chat-item:hover{background:var(--hover)}
.chat-item.active{background:var(--hover);border:1px solid var(--border)}

/* =========================
   MAIN LAYOUT
   ========================= */
.main-container{margin-top:var(--nav-h);margin-left:var(--sidebar-w)}
.center-content{max-width:var(--content-w);margin:auto;padding:24px 14px 140px}

/* =========================
   MESSAGES
   ========================= */
#messages-container{display:flex;flex-direction:column}
.message-row{display:flex;justify-content:center;padding:14px}
.message-row.assistant-row{background:var(--assistant-row)}
.message{max-width:var(--content-w);width:100%;display:flex;gap:12px}

.avatar{
  width:34px;height:34px;border-radius:999px;
  background:var(--accent);color:#04120b;
  display:flex;align-items:center;justify-content:center;
  font-weight:900
}

.message-content{font-size:1rem;line-height:1.75}

.user-message .message-content{
  background:var(--user-bubble);
  border:1px solid var(--border);
  padding:12px 14px;border-radius:18px;
  width:fit-content;max-width:34ch;margin-left:auto
}
@media(min-width:768px){.user-message .message-content{max-width:48ch}}

.assistant-message .message-content{padding:0}

/* =========================
   THINK / SEARCH BLOCKS
   ========================= */
.think-header,.search-status{
  max-width:var(--content-w);margin:0 auto 10px;
  display:flex;gap:8px;color:var(--muted);font-size:.9rem
}
.think-pill,.search-query{
  padding:6px 10px;border-radius:999px;
  border:1px solid var(--border);background:var(--panel)
}
.think-box{
  max-width:var(--content-w);margin:0 auto 14px;
  background:var(--panel);border:1px solid var(--border);
  border-radius:14px
}
.think-content{
  padding:12px 14px;font-size:.95rem;line-height:1.7;
  border-left:3px solid var(--accent)
}

/* =========================
   IMAGES
   ========================= */
.message-image img{
  max-width:100%;max-height:520px;border-radius:16px;
  border:1px solid var(--border)
}

/* =========================
   COMPOSER (DeepSeek-style)
   ========================= */
.input-wrapper{
  position:fixed;bottom:0;left:var(--sidebar-w);right:0;
  padding:16px;background:linear-gradient(to top,var(--bg),transparent);
}
.input-box{max-width:var(--content-w);margin:auto}

.input-actions{display:flex;gap:10px;padding:0 8px 10px}
.action-pill{
  padding:8px 12px;border-radius:999px;border:1px solid var(--border);
  background:var(--panel);font-weight:700;cursor:pointer
}
.action-pill.active{border-color:var(--accent)}

.input-inner{
  display:flex;align-items:center;gap:10px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  border-radius:18px;padding:.6rem .8rem
}
#chat-input{
  flex:1;background:transparent;border:none;outline:none;
  color:var(--text);font-size:1rem;resize:none
}
.send-button{
  width:38px;height:38px;border-radius:999px;
  background:linear-gradient(135deg,var(--accent),#0ea5e9);
  border:none;cursor:pointer
}

/* =========================
   AUTH (LOGIN / SIGNUP)
   ========================= */
.auth-page{
  min-height:100vh;display:flex;align-items:center;justify-content:center;
  background:radial-gradient(800px 400px at 10% 10%,rgba(25,195,125,.18),transparent),
             radial-gradient(800px 400px at 90% 10%,rgba(79,140,255,.18),transparent),
             var(--bg)
}
.auth-box{
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  border-radius:20px;padding:2rem;max-width:460px;width:100%
}
.form-input{
  width:100%;padding:.9rem 1rem;border-radius:14px;
  background:rgba(255,255,255,.06);border:1px solid var(--border);
  color:var(--text)
}
.auth-button{
  width:100%;padding:.9rem;border-radius:14px;border:none;
  background:linear-gradient(135deg,var(--accent),#0ea5e9);
  font-weight:900;cursor:pointer
}

/* =========================
   RESPONSIVE
   ========================= */
@media(max-width:1024px){
  .main-container{margin-left:0}
  .input-wrapper{left:0}
}
